pipeline {
    agent any
    stages {
        stage ("Stage 1") {
            steps{
                echo "Stage 1 - command 1"
                echo "Stage 1 - command 2"
                echo "Stage 1 - command 3"
            }
        }
        stage ("Stage 2") {
            steps{
                echo "Stage 2 - command 1"
                echo "Stage 2 - command 2"
                sh 'python --version'
            }
        }
        stage('Publish') {
            echo 'Publish Allure report'
            publishHTML(
                    target: [
                            allowMissing         : false,
                            alwaysLinkToLastBuild: false,
                            keepAll              : true,
                            reportDir            : '/home/yantong/Desktop/yantong/allure-report/',
                            reportFiles          : 'index.html',
                            reportName           : "Allure Report"
                    ]
            )
        }
    }
}
