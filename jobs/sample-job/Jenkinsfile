pipeline {
    agent any

    stages {
        stage('Run Tests') {
            steps {
                script {
                    def testResults = []

                    for (int i = 1; i <= 10; i++) {
                        // 替換以下指令為你的測試指令
                        def result = sh(script: "your_test_command", returnStatus: true)
                        
                        // 將結果存入列表
                        testResults.add(result ? 'success' : 'failure')
                    }

                    // 產生報告
                    def totalCycles = 10
                    def failCycles = testResults.count { it == 'failure' }
                    def passRate = (totalCycles - failCycles) * 100 / totalCycles

                    emailext attachLog: true,
                            body: """
                            <table>
                              <caption>pass rate overview</caption>
                              <thead>
                                <tr>
                                  <th></th>
                                  <th scope="col">pt stability</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <th scope="row">test cycles</th>
                                  <td>${totalCycles}</td>
                                </tr>
                                <tr>
                                  <th scope
